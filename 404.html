<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>{code} {name}</title>
    <style>
        :root {
            --c-blue: #0051c3;
            --c-gray: #313131;
            --c-light-gray: #e0e0e0;
            --c-bg: #fcfcfc;
        }

        /* 深色 */
        @media (prefers-color-scheme: dark) {
            :root {
                --c-blue: #6a9fef;
                --c-gray: #e0e0e0;
                --c-light-gray: #313131;
                --c-bg: #1e1e1e;
            }
        }

        * {
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif;
            background-color: var(--c-bg);
            color: var(--c-gray);
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            width: 100%;
        }

        .header {
            margin-bottom: 40px;
        }

        .status-code {
            font-size: 6rem;
            font-weight: 200;
            margin: 0;
            line-height: 1;
        }

        .status-desc {
            font-size: 1.5rem;
            font-weight: 400;
            margin: 10px 0 0;
        }

        .content-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 40px;
            margin-bottom: 60px;
        }

        @media (max-width: 768px) {
            .content-grid {
                grid-template-columns: 1fr;
            }
        }

        p {
            font-size: 1rem;
            font-weight: 600;
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .footer {
            border-top: 1px solid var(--c-light-gray);
            padding-top: 20px;
            font-size: 0.85rem;
            color: #666;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
        }

        .footer-branding {
            margin-left: auto;
        }

        .footer-branding a {
            color: var(--c-gray);
            text-decoration: none;
            font-weight: 500;
        }

        .footer-branding a:hover {
            color: var(--c-blue);
            text-decoration: underline;
        }
    </style>
</head>
<body>
<div class="container">
    <div class="header">
        <h1 class="status-code" id="code">{code}</h1>
        <p class="status-desc" id="name">{name}</p>
    </div>
    <div class="content-grid">
        <p id="msg">{msg}</p>
    </div>
    <div class="footer">
        <div class="footer-branding">
            <span id="pb">Powered by</span><a href="https://github.com/TASA-Ed/Url-Shorter-Worker" target="_blank">Url-Shorter-Worker</a>
        </div>
    </div>
</div>
</body>
<script>
  const i18nKey = {
    Name: 'Name',
    Code404: 'Code404',
    Title404: 'Title404',
    Msg404: 'Msg404',
    pb: 'pb'
  };

  function i18n(key) {
    const zh = {
      [i18nKey.Name]: 'zh',
      [i18nKey.Code404]: '404',
      [i18nKey.Title404]: '未找到',
      [i18nKey.Msg404]: '您所寻找的 URL 地址不存在。',
      [i18nKey.pb]: '技术支持：'
    };
    const en = {
      [i18nKey.Name]: 'en',
      [i18nKey.Code404]: '404',
      [i18nKey.Title404]: 'Not Found',
      [i18nKey.Msg404]: 'The URL you are looking for does not exist.',
      [i18nKey.pb]: 'Powered by: '
    };
    const ru = {
      [i18nKey.Name]: 'ru',
      [i18nKey.Code404]: '404',
      [i18nKey.Title404]: 'Не найдено',
      [i18nKey.Msg404]: 'URL-адрес, который вы ищете, не существует.',
      [i18nKey.pb]: 'Приводится в действие: '
    };
    let lang;
    switch ((navigator.language).toLowerCase()) {
      case "zh":
      case 'zh-cn':
      case 'zh-tw':
        lang = zh;
        break;
      case "en":
      case "en-us":
        lang = en;
        break;
      case "ru":
      case "ru-ru":
        lang = ru;
        break;
      default:
        lang = en;
    }
    return lang[key];
  }

  function run() {
    document.getElementById("msg").innerHTML = i18n(i18nKey.Msg404);
    document.getElementById("code").innerHTML = i18n(i18nKey.Code404);
    document.getElementById("name").innerHTML = i18n(i18nKey.Title404);
    document.getElementById("pb").innerHTML = i18n(i18nKey.pb);
    document.documentElement.lang = i18n(i18nKey.Name);
    document.title = i18n(i18nKey.Code404) + " " + i18n(i18nKey.Title404);
  }

  run();
</script>
</html>
